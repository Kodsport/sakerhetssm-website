"use strict";(self["webpackChunkwatflag"]=self["webpackChunkwatflag"]||[]).push([[76],{7093:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var o=n(6252);const s=(0,o._)("h1",null,"Admin",-1),r=(0,o._)("p",null,"I hope the only thing you want to do is to post an announcement, because that's the only feature currently supported. :P",-1),u=(0,o._)("h1",null,"Admin",-1),a=(0,o._)("h2",null,"Nice try",-1);function c(t,e,n,c,i,m){const l=(0,o.up)("RemoteForm");return t.$store.state.user&&t.$store.state.user.permissions.length?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[s,r,(0,o.Wm)(l,{form:i.announceForm||t.$store.state.forms.announce,"button-text":"Announce",onSubmit:m.announce},null,8,["form","onSubmit"])],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[u,a],64))}var i=n(1808),m=n(1023),l={components:{RemoteForm:i.Z},data(){return{announceForm:null}},methods:{async announce(t){const e=await m.Z.request("POST","/api/admin/announcement",t);if(200!==e.status)return void this.$store.commit("createToast",{type:"error",title:`Backend could not be reached: ${e.status}`,body:"Please try again."});const n=await e.json();this.createForm=n.form,n.success&&(this.$store.commit("processAnnouncement",n.announcement),this.$store.commit("createToast",{type:"success",title:"Announcement successfully sent!"}))}}},h=n(3744);const d=(0,h.Z)(l,[["render",c]]);var f=d}}]);
//# sourceMappingURL=adminview.b7cf15aa.js.map