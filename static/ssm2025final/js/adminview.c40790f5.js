"use strict";(self["webpackChunkchallgame"]=self["webpackChunkchallgame"]||[]).push([[76],{7093:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var o=n(6252);const s=(0,o._)("h1",null,"Admin",-1),r=(0,o._)("p",null,"I hope the only thing you want to do is to post an announcement, because that's the only feature currently supported. :P",-1),u=(0,o._)("h1",null,"Admin",-1),a=(0,o._)("h2",null,"Nice try",-1);function c(e,t,n,c,m,i){const l=(0,o.up)("RemoteForm");return e.$store.state.user&&e.$store.state.user.permissions.length?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[s,r,(0,o.Wm)(l,{form:m.announceForm||e.$store.state.forms.announce,"button-text":"Announce",onSubmit:i.announce},null,8,["form","onSubmit"])],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[u,a],64))}var m=n(2233),i=n(1023),l={components:{RemoteForm:m.Z},data(){return{announceForm:null}},methods:{async announce(e){const t=await i.Z.request("POST","/api/admin/announcement",e);if(200!==t.status)return void this.$store.commit("createToast",{type:"error",title:`Backend could not be reached: ${t.status}`,body:"Please try again."});const n=await t.json();this.createForm=n.form,n.success&&(this.$store.commit("processAnnouncement",n.announcement),this.$store.commit("createToast",{type:"success",title:"Announcement successfully sent!"}))}}},h=n(3744);const d=(0,h.Z)(l,[["render",c]]);var p=d}}]);
//# sourceMappingURL=adminview.c40790f5.js.map