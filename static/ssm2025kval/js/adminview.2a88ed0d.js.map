{"version":3,"file":"js/adminview.2a88ed0d.js","mappings":"oLAEIA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GACTA,EAAAA,EAAAA,GAA+H,SAA5H,4HAAwH,G,GAQ3HA,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GACTA,EAAAA,EAAAA,GAAiB,UAAb,YAAQ,G,8DAXEC,EAAAC,OAAOC,MAAMC,MAAQH,EAAAC,OAAOC,MAAMC,KAAKC,YAAYC,SAAM,WAAzEC,EAAAA,EAAAA,IAQWC,EAAAA,GAAA,CAAAC,IAAA,IAPTC,EACAC,GACAC,EAAAA,EAAAA,IAIEC,EAAA,CAHCC,KAAMC,EAAAC,cAAgBf,EAAAC,OAAOC,MAAMc,MAAMC,SAC1C,cAAY,WACXC,SAAQC,EAAAF,U,+CAGbX,EAAAA,EAAAA,IAGWC,EAAAA,GAAA,CAAAC,IAAA,IAFTY,EACAC,GAAiB,I,yBAQrB,GACIC,WAAY,CACRC,WAAUA,EAAAA,GAEdC,IAAAA,GACI,MAAO,CACHT,aAAc,KAEtB,EACAU,QAAS,CACL,cAAMR,CAAUS,GACZ,MAAMC,QAAUC,EAAAA,EAAWC,QAAQ,OAAQ,0BAA2BH,GACtE,GAAiB,MAAbC,EAAEG,OAMF,YALAC,KAAK9B,OAAO+B,OAAO,cAAe,CAC9BC,KAAM,QACNC,MAAQ,iCAAgCP,EAAEG,SAC1CK,KAAM,sBAId,MAAMX,QAAaG,EAAES,OACrBL,KAAKM,WAAab,EAAKX,KACnBW,EAAKc,UACLP,KAAK9B,OAAO+B,OAAO,sBAAuBR,EAAKe,cAC/CR,KAAK9B,OAAO+B,OAAO,cAAe,CAC9BC,KAAM,UACNC,MAAO,oCAGnB,I,UC5CR,MAAMM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://challgame/./src/views/AdminView.vue","webpack://challgame/./src/views/AdminView.vue?e347"],"sourcesContent":["<template>\n  <template v-if=\"$store.state.user && $store.state.user.permissions.length\">\n    <h1>Admin</h1>\n    <p>I hope the only thing you want to do is to post an announcement, because that's the only feature currently supported. :P</p>\n    <RemoteForm\n      :form=\"announceForm || $store.state.forms.announce\"\n      button-text=\"Announce\"\n      @submit=\"announce\"\n    />\n  </template>\n  <template v-else>\n    <h1>Admin</h1>\n    <h2>Nice try</h2>\n  </template>\n</template>\n\n<script>\nimport RemoteForm from '@/components/RemoteForm.vue'\nimport networking from '@/networking.js'\n\nexport default {\n    components: {\n        RemoteForm,\n    },\n    data () {\n        return {\n            announceForm: null,\n        }\n    },\n    methods: {\n        async announce (event) {\n            const r = await networking.request('POST', '/api/admin/announcement', event)\n            if (r.status !== 200) {\n                this.$store.commit('createToast', {\n                    type: 'error',\n                    title: `Backend could not be reached: ${r.status}`,\n                    body: 'Please try again.',\n                })\n                return\n            }\n            const data = await r.json()\n            this.createForm = data.form\n            if (data.success) {\n                this.$store.commit('processAnnouncement', data.announcement)\n                this.$store.commit('createToast', {\n                    type: 'success',\n                    title: 'Announcement successfully sent!',\n                })\n            }\n        },\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { render } from \"./AdminView.vue?vue&type=template&id=2d6f2c65\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_ctx","$store","state","user","permissions","length","_createElementBlock","_Fragment","key","_hoisted_1","_hoisted_2","_createVNode","_component_RemoteForm","form","$data","announceForm","forms","announce","onSubmit","$options","_hoisted_3","_hoisted_4","components","RemoteForm","data","methods","event","r","networking","request","status","this","commit","type","title","body","json","createForm","success","announcement","__exports__","render"],"sourceRoot":""}